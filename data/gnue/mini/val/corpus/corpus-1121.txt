*** johannesV has joined #gnuenterprise
*** reinhar1 has joined #gnuenterprise
*** reinhar1 is now known as reinhard
*** btami has joined #gnuenterprise
<reinhard> good morning
<btami> good morning
*** dimas has quit IRC
*** SachaS has joined #gnuenterprise
*** kilo has joined #gnuenterprise
<kilo> good morning
<johannesV> hoi
*** SachaS is now known as SachaLunch
*** SachaLunch is now known as SachaS
*** btami has quit IRC
*** johannesV_ has joined #gnuenterprise
*** johannesV has quit IRC
*** jamest_ has joined #gnuenterprise
*** johannesV_ has quit IRC
<reinhard> jamest_: sorry if this is a dumb question
<reinhard> what is the easiest way to enforce uniqueness of a database column?
<reinhard> (other than creating an unique index which will result in db exceptions to be thrown at the user)
<jamest_> um
<jamest_> in forms?
<jamest_> what type of data ?
<reinhard> yes, in forms
<reinhard> normal string
<reinhard> I did a PRE-FOCUSOUT trigger in which a query a second datasource pointing to the same table to find out whether the value already exists
<reinhard> but that doesn't seem too elegant
*** SachaS has quit IRC
*** johannesV has joined #gnuenterprise
*** derek has joined #gnuenterprise
*** kilo has quit IRC
*** jcater has joined #gnuenterprise
*** SachaS has joined #gnuenterprise
*** jamest_ is now known as jamest
<reinhard> jamest: any hint?
<jamest> er, whoops
<jamest> postgresql?
<reinhard> sqlite
<reinhard> but actually that shouldn't matter
<jamest> i don't think that would catch dupe entries in the form
<jamest> my users get the dupe entry sql error
<reinhard> it don't catch them if you make both entries at the same commit
<jamest> reinhard: that's what I ment by dupe entries in the form :)
<reinhard> ok, so you simply pass the SQL backend error to the user
<reinhard> same for enforcing referential integrity?
<reinhard> (e.g. making sure no master is deleted as long as details exist)
<jamest> something i've done in postgresql is setup on update triggers  on my invoice table
<jamest> that block updates after the invoice has been faxed to customer
<jamest> i'm thinking that the error message generated by that trigger is displayed nicely by forms
<jamest> well, wx24, i've not looked at 2.6 yet
<jamest> but i doubt that's an option for sqlite
<reinhard> should be at least as nice in 26 :)
<jamest> doesn't 2.6 hide the error though ?
<jamest> unless you click details
<reinhard> jamest: depends
<reinhard> you get the exception text
<reinhard> with clicking "details" you get the SQL statement that caused the error
<reinhard> (in case of an SQL error)
<reinhard> well, actually my question is answered
<jamest> then yes, it would show
<reinhard> however, I don't want to pass backend error messages to the user
*** jcater has quit IRC
<jamest> my users are confused by it
<reinhard> as they look too techy
<reinhard> and they are (what is a problem for me) in English generally
<jamest> i wonder if we need a per form mapping of some sort
<jamest> so you can define "If you get this error.  Display this instead"
<reinhard> I've thought about the same, but that would mean to parse backend error messages
<reinhard> depending on what backend you use and probably even on the backend version
<reinhard> maybe also on the current locale the backend runs on
<reinhard> anyway, thanks
<reinhard> bb
<reinhard> bbl
<jamest> reinhard: well, in application cases couldn't you regex it
<jamest> as you are in control of the platform
<jamest> and honestly i would think this more of a specific application implentation issue
<jamest> so saying replace any message that reads like ".*foo.*" with "You are hosed.  Fire your programmer and go home."
<jamest> could be understood to be very, very dependent upon the specific install
*** jcater has joined #gnuenterprise
<reinhard> jamest: might be possible that I could
<reinhard> however it would take away the possibility to migrate to a different backend easily
<reinhard> still I think I will sleep over this once or twice :)
<reinhard> was mainly curious how you do it, which you have answered perfectly :)
<jamest> my process is as follows
<jamest> <ring>James Speaking.
<jamest> Yeah, i got an error on form foobar.
<jamest> <jamest>ok, what does the error say
<jamest> <user>I dunno, i closed it.
<jamest> <jamest>ok, try again and give me the error message
<jamest> <user>hmmm, worked that time
<jamest> unless it's monday
<jamest> then it's "yeah, i got an error last friday.  I probably should have wrote it down"
<jamest> but in either case that's over 1/2 my error reports :)
<jcater> half of mine are "The internet isn't working"
<jamest> lol
<jamest> too true
<jamest> could you imagine the fun you could have with a squid proxy on that one
<jamest> "Just a minute.  I'll reboot it"
<jamest> then a redirect to a "Internet Reboot in Progress.....Please wait."
<jcater> rofl
<jcater> I love that idea
<reinhard> jamest: I know these users
<jamest> you mean they're yours?
* jamest wants to ship them back to you
<reinhard> we support some software that blocks order entry if you had an error in an important program run
* jamest wonders if air holes in the box are really needed
<reinhard> so I get calls "the computer tells me that order entry is blocked"
<reinhard> "did you have an error message in program run x yesterday?"
<reinhard> "yes, I had, but after hitting ctrl-W the error message went away, so I thought it was ok again
<reinhard> "
<reinhard> (where ctrl-w is the key to close the error message window)
<jamest> lol
<jamest> i had one last month where they we running a credit card payment through the payment form
<jamest> i told them it was a dupe transaction
<jamest> so they waited 10 minutes and tried again
<jamest> dupe = duplicate
<jamest> of course, 10 minutes later was past the window our clearing house uses to detect dupes, so the system happily charged the customers card a second time
<jcater> I get that one a lot too
<jcater> I had one do a manual transaction for $3000
<jcater> but was supposed to be 30.00
<jcater> that one of course was my fault
<jcater> since I should've had some limits set up
<jcater> despite the fact that the manual system is only for over-rides
<jcater> i.e., non-standard stuff
<jamest> so set a $5 max
<jamest> and make them work up in increments of that
<derek> my favorite recent one was...
<derek> "can you come look at my system it is getting errors"
<derek> so promptly go to persons desk....
<derek> they pull up some fancy wedding planner site.. and go to login
<derek> and on login get all sorts of mysql errors
<derek> at which point i tell them it is a problem on the website (that has nothing to do with their job) and it isn't something we can "fix"
<derek> you should have seen the utter look of disgust and discontent that I was "refusing" to fix the wedding planner site and so her wedding was going to be a miserable failure :)
<jcater> yeah
<jcater> I moved customer service from konq to firefox
<jcater> in disgust, one of the reps came back to my temporary workstation
*** johannesV has quit IRC
<jamest> jcater: just give them lynx
<jcater> err, sorry
<jcater> had a user
<jcater> in disgust, one of the reps came back to my temporary workstation
<jcater> "I can't get to one of my needed sites"
<jcater> the site.... tennesseelottery.com
<jamest> or better yet
<jamest> emacs with w3-mode
<jamest> "what do you mean you can't surf the web?  Did you make sure and press Esc x w3<return>"
<jamest> <listen to sound of head popping>
*** SachaS has left #gnuenterprise
*** kilo has joined #gnuenterprise
*** jamest has quit IRC
<reinhard> good night
*** reinhard has quit IRC
*** kilo has quit IRC
*** derek has quit IRC
*** jcater has quit IRC
